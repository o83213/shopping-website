(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{22:function(e,t,c){e.exports={"box-container":"Footer_box-container__3x6OE",box:"Footer_box__1LJL5",logo:"Footer_logo__164hm",share:"Footer_share__1V4i3",credit:"Footer_credit__A7xAH"}},27:function(e,t,c){e.exports={form:"Checkout_form__2p4CZ",control:"Checkout_control__1wsJQ",actions:"Checkout_actions__2U205",submit:"Checkout_submit__2BAI1",invalid:"Checkout_invalid__w2LAK"}},31:function(e,t,c){e.exports={deal:"Deal_deal__1xsOR",content:"Deal_content__3q_NR",title:"Deal_title__2jvkQ","count-down":"Deal_count-down__30uJI",box:"Deal_box__3eCDc",buttonBox:"Deal_buttonBox__u9EwG"}},34:function(e,t,c){e.exports={backdrop:"Modal_backdrop__EHHBv",modal:"Modal_modal__2QZsC","slide-down":"Modal_slide-down__1tHg3"}},35:function(e,t,c){e.exports={"cart-items":"Cart_cart-items__3cGNI",total:"Cart_total__3riKe",actions:"Cart_actions__2jqMM","button--alt":"Cart_button--alt__3wlLD",button:"Cart_button__1EGGS"}},37:function(e,t,c){e.exports={content:"RecordDetail_content__2M865",address:"RecordDetail_address__1iZQM",items:"RecordDetail_items__16qUB",itemName:"RecordDetail_itemName__1LtEn",addressContent:"RecordDetail_addressContent__2NXxe",a:"RecordDetail_a__3WmeC",action:"RecordDetail_action__PEuzO"}},40:function(e,t,c){e.exports={auth:"AuthForm_auth__3mbL8",control:"AuthForm_control__3cqzw",actions:"AuthForm_actions__2S9Tb",toggle:"AuthForm_toggle__3xA7u"}},41:function(e,t,c){e.exports={item:"RecordItem_item__3JCzC",summary:"RecordItem_summary__3uo8D",price:"RecordItem_price__QuJiG",amount:"RecordItem_amount__LammK",actions:"RecordItem_actions__2ZMkp"}},42:function(e,t,c){e.exports={"cart-item":"CartItem_cart-item__2yMEC",summary:"CartItem_summary__Fvh-X",price:"CartItem_price__11jZd",amount:"CartItem_amount__34YAE",actions:"CartItem_actions__3J-LY"}},45:function(e,t,c){e.exports={box:"ProductItem_box__3cIk6",discount:"ProductItem_discount__2DsLk",price:"ProductItem_price__3aBKD",quantity:"ProductItem_quantity__1X5YI"}},46:function(e,t,c){e.exports={heading:"ContactForm_heading__1wFt4",contact:"ContactForm_contact__3pAgx","input-box":"ContactForm_input-box__T7svR"}},50:function(e,t,c){e.exports={starting:"StartingPageContent_starting__vZHQV",image:"StartingPageContent_image__3xMO5",content:"StartingPageContent_content__3ghXE"}},51:function(e,t,c){e.exports={product:"Products_product__7Ur-j",heading:"Products_heading__2dUQL","box-container":"Products_box-container__2J_Hl"}},52:function(e,t,c){e.exports={category:"Category_category__12WEu",heading:"Category_heading__CBfk9","box-container":"Category_box-container__WJ4gv",box:"Category_box__30EZG",btn:"Category_btn__3cxRY"}},53:function(e,t,c){e.exports={icon:"HeaderCartButton_icon__OHhM4",badge:"HeaderCartButton_badge__43qh4",bump:"HeaderCartButton_bump__jRL0y"}},58:function(e,t,c){e.exports={banner:"BannerItem_banner__1O5cN",content:"BannerItem_content__2Cwqu"}},59:function(e,t,c){e.exports={header:"MainNavigation1_header__3wAAb",logo:"MainNavigation1_logo__1zmNN"}},64:function(e,t,c){e.exports={box:"CategoryItem_box__3G_iJ"}},65:function(e,t,c){e.exports={"banner-container":"Banner_banner-container__2qtBf",banner:"Banner_banner__1qHqu",content:"Banner_content__bdzkR"}},66:function(e,t,c){e.exports={list:"RecordList_list__RiAS4"}},67:function(e,t,c){e.exports={header:"MainNavigation2_header__2P33M"}},73:function(e,t,c){},86:function(e,t,c){"use strict";c.r(t);var n=c(28),a=c.n(n),r=c(16),s=(c(73),c(7)),o=c(14),i=c(4),l=c.n(i),d=c(5),j=c(1),u=c.n(j),b=c(12),h=c(40),m=c.n(h),O=c(25),x=Object(O.b)({name:"auth",initialState:{token:"",email:"",isLoggedIn:!1},reducers:{retrieveStoredToken:function(e){var t=localStorage.getItem("token"),c=localStorage.getItem("email");t&&(e.token=t,e.email=c,e.isLoggedIn=!0)},login:function(e,t){e.token=t.payload.token,e.email=t.payload.email,e.isLoggedIn=!0,localStorage.setItem("token",t.payload.token),localStorage.setItem("email",t.payload.email)},logout:function(e){e.token=null,e.isLoggedIn=!1,localStorage.removeItem("token"),localStorage.removeItem("email")}}}),p=x,f=x.actions,g={email:"",items:[],totalQuantity:0,totalPrice:0,changed:!1},_=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),c=t.email.replace(".",""),e.next=5,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/cart/".concat(c,".json"),{method:"PUT",body:JSON.stringify({items:t.items,totalQuantity:t.totalQuantity,totalPrice:t.totalPrice})});case 5:if(e.sent.ok){e.next=8;break}throw new Error("Something went wrong?");case 8:console.log("send cart data success!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("send cart data fail!");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),v=Object(O.b)({name:"cart",initialState:g,reducers:{addItemToCart:function(e,t){e.changed=!0;var c=t.payload,n=localStorage.getItem("email");console.log("newItem:"),console.log(c),console.log(e.items);var a=e.items.find((function(e){return console.log(e.id),console.log(c.id),e.id===c.id}));console.log("existingItem:"),console.log(a),e.totalQuantity+=c.quantity,e.totalPrice+=c.totalPrice,a?(console.log("Adding existing item"),console.log(a.quantity),a.quantity+=c.quantity,a.totalPrice+=a.price):(console.log("Adding new item"),e.items.push({id:c.id,name:c.name,price:c.price,quantity:c.quantity,totalPrice:c.totalPrice})),_({items:e.items,totalQuantity:e.totalQuantity,email:n,totalPrice:e.totalPrice})},removeItemFromCart:function(e,t){e.changed=!0;var c=localStorage.getItem("email"),n=t.payload;console.log(n);var a=e.items.find((function(e){return e.id===n}));console.log(a),e.totalQuantity--,e.totalPrice-=a.price,console.log(e.totalQuantity),console.log(e.totalPrice),1===a.quantity?e.items=e.items.filter((function(e){return e.id!==n})):(a.quantity--,a.totalPrice-=a.price),_({items:e.items,totalQuantity:e.totalQuantity,email:c,totalPrice:e.totalPrice})},replaceCart:function(e,t){if(t.payload.items){for(var c=[],n=0,a=Object.entries(t.payload.items);n<a.length;n++){var r=a[n][1];c.push(r)}e.items=c}e.totalQuantity=t.payload.totalQuantity?t.payload.totalQuantity:0,e.totalPrice=t.payload.totalPrice?t.payload.totalPrice:0},clearCart:function(e){e.email=localStorage.getItem("email"),e.items=g.items,e.totalQuantity=g.totalQuantity,e.totalPrice=g.totalPrice,e.changed=g.changed},clearCartAndSend:function(e){e.email=localStorage.getItem("email"),e.items=g.items,e.totalQuantity=g.totalQuantity,e.totalPrice=g.totalPrice,e.changed=g.changed,_({items:e.items,totalQuantity:e.totalQuantity,email:e.email,totalPrice:e.totalPrice})}}}),y=v.actions,C=v,N=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c){var n,a,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json");case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,r=e.replace(".",""),s=a[r],c(y.replaceCart(s)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()},S={records:[],email:""},k=function(){var e=Object(d.a)(u.a.mark((function e(t){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),c=localStorage.getItem("email").replace(".",""),console.log(c),e.next=6,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/record/".concat(c,".json"),{method:"POST",body:JSON.stringify({name:t.name,street:t.street,postalCode:t.postalCode,city:t.city,items:t.items,totalQuantity:t.totalQuantity,totalPrice:t.totalPrice})});case 6:if(e.sent.ok){e.next=9;break}throw new Error("Something went wrong?");case 9:console.log("send record data success!"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("send record data fail!");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),w=Object(O.b)({name:"record",initialState:S,reducers:{addNewRecord:function(e,t){var c=t.payload,n=localStorage.getItem("email");e.records.push(c),e.email=n,k(c)},replaceRecordData:function(e,t){var c=localStorage.getItem("email");e.email=c;for(var n=0,a=Object.entries(t.payload);n<a.length;n++){var r=a[n][1];e.records.push(r)}},clearRecord:function(e){e.records=S.records,e.email=S.email}}}),P=w,I=w.actions,F=function(e){return function(){var t=Object(d.a)(u.a.mark((function t(c){var n,a,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.replace(".",""),t.next=4,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/record/".concat(n,".json"));case 4:return a=t.sent,t.next=7,a.json();case 7:r=t.sent,c(I.replaceRecordData(r)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},D=c(0),L=function(){var e=Object(i.useState)(!0),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(i.useState)(!1),r=Object(s.a)(a,2),l=r[0],j=r[1],h=Object(i.useRef)(),O=Object(i.useRef)(),x=Object(b.b)(),p=Object(o.g)(),g=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a,r,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.current.value,a=O.current.value,e.prev=2,e.next=5,fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:a,returnSecureToken:!0})});case 5:if((r=e.sent).ok){e.next=9;break}throw console.log(r),new Error("Authentication failed!");case 9:return e.next=11,r.json();case 11:s=e.sent,o=c?"Welcome back ".concat(s.email):"Sign up successful\ud83d\ude0a\ud83d\ude0a\ud83d\ude0a, user: ".concat(s.email),alert(o),x(f.login({token:s.idToken,email:s.email})),x(N(s.email)),x(F(s.email)),p.replace("/"),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(2),alert(e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(D.jsxs)("section",{className:m.a.auth,children:[Object(D.jsx)("h1",{children:c?"Login":"Sign Up"}),Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(!0),g(c?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBOOqIZoFc5OGH9a3X6k-f8AyHXDrzwHnM":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBOOqIZoFc5OGH9a3X6k-f8AyHXDrzwHnM"),j(!1)},children:[Object(D.jsxs)("div",{className:m.a.control,children:[Object(D.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(D.jsx)("input",{type:"email",id:"email",ref:h,required:!0})]}),Object(D.jsxs)("div",{className:m.a.control,children:[Object(D.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(D.jsx)("input",{type:"password",id:"password",ref:O,required:!0})]}),Object(D.jsxs)("div",{className:m.a.actions,children:[!l&&Object(D.jsx)("button",{type:"submit",children:c?"Login":"Create Account"}),l&&Object(D.jsx)("p",{children:"Sending request..."}),Object(D.jsx)("button",{type:"button",className:m.a.toggle,onClick:function(){n((function(e){return!e}))},children:c?"Create new account":"Login with existing account"})]})]})]})},R=function(){return Object(D.jsx)(L,{})},Q=c(50),A=c.n(Q),q=c.p+"static/media/home-img.798f4d30.jpg",B=function(){return Object(D.jsxs)("section",{className:A.a.starting,children:[Object(D.jsx)("div",{className:A.a.image,children:Object(D.jsx)("img",{src:q,alt:""})}),Object(D.jsxs)("div",{className:A.a.content,children:[Object(D.jsx)("span",{children:"Fresh and Delicious"}),Object(D.jsx)("h3",{children:"World Class Seafood!"})]})]})},E=function(){return Object(D.jsx)(B,{})},T=c(51),M=c.n(T),H=c(45),U=c.n(H),J=c(63),z=c(47);c(84);Object(J.a)({apiKey:"AIzaSyBOOqIZoFc5OGH9a3X6k-f8AyHXDrzwHnM",authDomain:"shoppingwebsite-22c78.firebaseapp.com",projectId:"shoppingwebsite-22c78",storageBucket:"shoppingwebsite-22c78.appspot.com",messagingSenderId:"30377284561",appId:"1:30377284561:web:078fb720a968010e9c46f0",measurementId:"G-E04LEKKQS1"});var G=function(e){var t=Object(i.useState)(),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(i.useRef)(),l=Object(b.b)(),j=Object(b.c)((function(e){return e.auth.isLoggedIn})),h=Object(o.g)();Object(i.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var c,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(z.b)(),n=Object(z.c)(c,e.imgURL),t.next=4,Object(z.a)(n);case 4:r=t.sent,a(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e.imgURL]);return Object(D.jsxs)("div",{className:U.a.box,children:[Object(D.jsx)("span",{className:U.a.discount,children:"".concat((100*e.discount).toFixed(),"%")}),Object(D.jsx)("img",{src:n,alt:""}),Object(D.jsx)("h3",{children:e.name}),Object(D.jsxs)("div",{className:U.a.price,children:["$".concat((e.price*(1-e.discount)).toFixed(1))," ",Object(D.jsxs)("span",{children:[" ","$".concat(e.price)," "]})]}),Object(D.jsxs)("div",{className:U.a.quantity,children:[Object(D.jsx)("span",{children:"Quantity: "}),Object(D.jsx)("input",{type:"number",min:"1",max:"100",defaultValue:"1",step:"1",ref:r}),Object(D.jsx)("span",{children:" /Kg "})]}),Object(D.jsx)("button",{className:"Button",onClick:function(){if(j){var t=+r.current.value;console.log(t);var c={id:e.id,name:e.name,price:e.price*(1-e.discount),quantity:t,totalPrice:e.price*(1-e.discount)*t};console.log(c),l(y.addItemToCart(c))}else h.replace("/auth")},children:"Add to cart"})]})},V=function(e){var t=Object(i.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(b.c)((function(e){return e.product})),o=r.items,l=r.sortingType,d=r.sortingValue;return Object(i.useEffect)((function(){var e=o.filter((function(e){return!l||"".concat(e[l]).toLowerCase()==="".concat(d).toLowerCase()}));a(e)}),[o,l,d]),Object(D.jsxs)("section",{className:M.a.product,children:[Object(D.jsxs)("h1",{className:M.a.heading,children:["Latest ",Object(D.jsx)("span",{children:"Product"})]}),Object(D.jsx)("div",{className:M.a["box-container"],children:n.map((function(e){return Object(D.jsx)(G,{id:e.id,name:e.name,price:e.price,discount:e.discount,imgURL:e.imgURL},e.id)}))})]})},X=function(e){return Object(D.jsx)(V,{})},Z=c(46),K=c.n(Z),Y=function(e){var t=Object(i.useState)(""),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(i.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(i.useState)(""),u=Object(s.a)(j,2),b=u[0],h=u[1],m=Object(i.useState)(""),O=Object(s.a)(m,2),x=O[0],p=O[1],f=Object(i.useState)(""),g=Object(s.a)(f,2),_=g[0],v=g[1];return Object(D.jsxs)("section",{className:K.a.contact,id:"contact",children:[Object(D.jsxs)("h1",{className:K.a.heading,children:[Object(D.jsx)("span",{children:"Contact"})," Us"]}),Object(D.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(""),d(""),h(""),p(""),v("")},children:[Object(D.jsxs)("div",{className:K.a["input-box"],children:[Object(D.jsx)("input",{type:"text",placeholder:"name",value:n,onChange:function(e){a(e.target.value)}}),Object(D.jsx)("input",{type:"email",placeholder:"email",value:l,onChange:function(e){d(e.target.value)}})]}),Object(D.jsxs)("div",{className:K.a["input-box"],children:[Object(D.jsx)("input",{type:"number",placeholder:"number",value:b,onChange:function(e){h(e.target.value)}}),Object(D.jsx)("input",{type:"text",placeholder:"subject",value:x,onChange:function(e){p(e.target.value)}})]}),Object(D.jsx)("textarea",{placeholder:"message",name:"",id:"",cols:"30",rows:"10",value:_,onChange:function(e){v(e.target.value)}}),Object(D.jsx)("button",{className:"Button",type:"submit",children:"submit"})]})]})},W=function(e){return Object(D.jsx)(Y,{})},$=c(52),ee=c.n($),te=c(64),ce=c.n(te),ne=Object(O.b)({name:"product",initialState:{items:[],sortingType:"",sortingValue:""},reducers:{changeSorting:function(e,t){e.sortingType=t.payload.sortingType,e.sortingValue=t.payload.sortingValue},addProduct:function(e,t){for(var c=0,n=Object.entries(t.payload);c<n.length;c++){var a=n[c][1];e.items.push(a)}}}}),ae=ne,re=ne.actions,se=function(e){var t=Object(i.useState)(),c=Object(s.a)(t,2),n=c[0],a=c[1],o=Object(i.useState)(""),l=Object(s.a)(o,2),j=l[0],h=l[1],m=Object(b.b)();Object(i.useEffect)((function(){var t=function(){var t=Object(d.a)(u.a.mark((function t(){var c,n,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Object(z.b)(),n=Object(z.c)(c,e.imgURL),t.next=4,Object(z.a)(n);case 4:r=t.sent,a(r);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t(),h(e.name)}),[e.imgURL,e.name]);return Object(D.jsxs)("div",{className:ce.a.box,children:[Object(D.jsx)("h3",{children:e.name}),Object(D.jsxs)("p",{children:["up to ","".concat(e.discount),"% off"]}),Object(D.jsx)("img",{src:n,alt:""}),Object(D.jsx)("br",{}),Object(D.jsx)("button",{className:"Button",onClick:function(){m(re.changeSorting({sortingType:"category",sortingValue:j}))},children:Object(D.jsx)(r.b,{to:"products",children:"shop now!"})})]})},oe=function(e){var t=Object(b.c)((function(e){return e.category.items}));return Object(D.jsxs)("section",{className:ee.a.category,id:"category",children:[Object(D.jsxs)("h1",{className:ee.a.heading,children:["Shop by ",Object(D.jsx)("span",{children:"Category"})]}),Object(D.jsx)("div",{className:ee.a["box-container"],children:t.map((function(e){return Object(D.jsx)(se,{id:e.id,discount:(100*e.discount).toFixed(),name:e.name,imgURL:e.imgURL},e.id)}))})]})},ie=function(e){return Object(D.jsx)(oe,{})},le=c(31),de=c.n(le),je=function(e){var t=Object(i.useState)({}),c=Object(s.a)(t,2),n=c[0],a=c[1];return Object(i.useEffect)((function(){var e=new Date(2023,1,1,0,0,0),t=setInterval((function(){var t=new Date,c=(e-t)/1e3,n=Math.floor(c/86400),r=Math.floor(c%86400/3600),s=Math.floor(c%3600/60),o=Math.floor(c%60);a({day:n,hour:r,minute:s,second:o})}),1e3);return function(){clearInterval(t)}}),[]),Object(D.jsxs)("section",{className:de.a.deal,id:"deal",children:[Object(D.jsxs)("div",{className:de.a.content,children:[Object(D.jsx)("h3",{className:de.a.title,children:"Deal Of The Day"}),Object(D.jsx)("p",{children:"This is special offer for new settler, only end in Dec.31!"}),Object(D.jsxs)("div",{className:de.a["count-down"],children:[Object(D.jsxs)("div",{className:de.a.box,children:[Object(D.jsx)("h3",{children:n.day}),Object(D.jsx)("span",{children:"day"})]}),Object(D.jsxs)("div",{className:de.a.box,children:[Object(D.jsx)("h3",{children:n.hour}),Object(D.jsx)("span",{children:"hour"})]}),Object(D.jsxs)("div",{className:de.a.box,children:[Object(D.jsx)("h3",{children:n.minute}),Object(D.jsx)("span",{children:"minute"})]}),Object(D.jsxs)("div",{className:de.a.box,children:[Object(D.jsx)("h3",{children:n.second}),Object(D.jsx)("span",{children:"second"})]})]})]}),Object(D.jsx)("div",{className:de.a.buttonBox,children:Object(D.jsx)(r.b,{to:"/products",className:"Button",children:"check the products"})})]})},ue=c(65),be=c.n(ue),he=c.p+"static/media/banner-1.742ebdb7.jfif",me=c.p+"static/media/banner-2.d0044f26.jpg",Oe=c(58),xe=c.n(Oe),pe=function(e){var t=Object(b.b)(),c=Object(o.g)();return Object(D.jsxs)("div",{className:xe.a.banner,children:[Object(D.jsx)("img",{src:e.imgUrl,alt:""}),Object(D.jsxs)("div",{className:xe.a.content,children:[Object(D.jsx)("h3",{children:e.message}),Object(D.jsxs)("p",{children:[(100*e.discount).toFixed(),"% off"]}),Object(D.jsx)("button",{className:"Button",onClick:function(){t(re.changeSorting({sortingType:"discount",sortingValue:e.discount})),c.replace("/products")},children:"check out"})]})]})},fe=function(e){return Object(D.jsxs)("section",{className:be.a["banner-container"],children:[Object(D.jsx)(pe,{imgUrl:he,message:"special offer",discount:.2}),Object(D.jsx)(pe,{imgUrl:me,message:"Limited offer",discount:.3})]})},ge=function(e){return Object(D.jsxs)(i.Fragment,{children:[Object(D.jsx)(fe,{}),Object(D.jsx)(je,{})]})},_e=c(34),ve=c.n(_e),ye=function(e){return Object(D.jsx)("div",{className:ve.a.backdrop,onClick:e.onClose})},Ce=function(e){return Object(D.jsx)("div",{className:ve.a.modal,children:Object(D.jsx)("div",{className:ve.a.content,children:e.children})})},Ne=document.getElementById("overlays"),Se=function(e){return Object(D.jsxs)(i.Fragment,{children:[a.a.createPortal(Object(D.jsx)(ye,{onClose:e.onClose}),Ne),a.a.createPortal(Object(D.jsx)(Ce,{children:e.children}),Ne)]})},ke=c(37),we=c.n(ke),Pe=function(e){var t=e.recordData,c=Object(D.jsx)("div",{children:Object(D.jsx)("button",{onClick:e.onClose,children:"Close"})}),n=t.items.map((function(e){return Object(D.jsxs)("div",{children:[Object(D.jsxs)("span",{className:we.a.itemName,children:[e.name,":"]})," $",e.price.toFixed(2)," x ",e.quantity,"Kg"]},e.id)})),a=Object(D.jsxs)(i.Fragment,{children:[Object(D.jsxs)("div",{className:we.a.content,children:[Object(D.jsxs)("div",{className:we.a.address,children:[Object(D.jsx)("h2",{children:"Delivery Address"}),Object(D.jsxs)("div",{className:we.a.addressContent,children:[Object(D.jsx)("h3",{children:t.name}),Object(D.jsx)("div",{children:t.street}),Object(D.jsxs)("div",{children:[t.city,"-",t.postalCode]})]})]}),Object(D.jsxs)("div",{className:we.a.items,children:[Object(D.jsx)("h3",{children:"items:"}),n,Object(D.jsxs)("h3",{children:["totalQuantity: ",t.totalQuantity,"kg"]}),Object(D.jsxs)("h3",{children:["totalPrice: ",t.totalPrice.toFixed(2),"\ud83d\udcb2"]})]})]}),Object(D.jsx)("div",{className:we.a.action,children:c})]});return Object(D.jsx)(Se,{onClose:e.onClose,children:a})},Ie=c(41),Fe=c.n(Ie),De=function(e){var t=Object(i.useState)(!1),c=Object(s.a)(t,2),n=c[0],a=c[1];return Object(D.jsxs)("li",{className:Fe.a.item,children:[Object(D.jsxs)("div",{children:[Object(D.jsxs)("h2",{children:["Name: ",e.name]}),Object(D.jsxs)("div",{className:Fe.a.summary,children:[Object(D.jsxs)("span",{className:Fe.a.price,children:["TotalPrice: ",e.totalPrice.toFixed(2),"\ud83d\udcb2"]}),Object(D.jsxs)("span",{className:Fe.a.amount,children:["TotalQuantity: ",e.totalQuantity," kg"]})]})]}),Object(D.jsx)("div",{className:Fe.a.actions,children:Object(D.jsx)("button",{onClick:function(){a(!0)},children:"View Detail"})}),n&&Object(D.jsx)(Pe,{onClose:function(){a(!1)},recordData:e.recordData})]})},Le=c(66),Re=c.n(Le),Qe=function(e){var t=e.records.map((function(e){return Object(D.jsx)("ul",{className:Re.a.list,children:Object(D.jsx)(De,{name:e.name,totalQuantity:e.totalQuantity,totalPrice:e.totalPrice,recordData:e})},Math.random())}));return Object(D.jsx)(i.Fragment,{children:t})},Ae=function(e){var t=Object(b.c)((function(e){return e.record})).records;return Object(D.jsxs)(i.Fragment,{children:[Object(D.jsx)("h1",{style:{textAlign:"center"},children:"Shopping Record"}),Object(D.jsx)(Qe,{records:t})]})},qe=function(e){return Object(D.jsx)(Ae,{})},Be=c(59),Ee=c.n(Be),Te=c(29),Me=function(){var e=Object(b.c)((function(e){return e.auth})),t=Object(i.useState)(!1),c=Object(s.a)(t,2),n=c[0],a=c[1],l=Object(b.b)();Object(i.useEffect)((function(){a(e.isLoggedIn)}),[e.isLoggedIn]);var d=Object(o.g)(),j=n?"Logout":"Login";return Object(D.jsxs)("header",{className:Ee.a.header,children:[Object(D.jsx)(r.b,{to:"/",children:Object(D.jsxs)("div",{className:Ee.a.logo,children:[Object(D.jsx)("span",{children:Object(D.jsx)(Te.d,{})}),"Mr.Sea"]})}),Object(D.jsxs)("div",{children:[n&&Object(D.jsx)("button",{onClick:function(){d.replace("/record")},className:"Button",children:"My Purchase"}),Object(D.jsx)("button",{onClick:function(){if(n)return l(f.logout()),l(y.clearCart()),l(I.clearRecord()),void d.replace("/");d.replace("/auth")},className:"Button",children:j})]})]})},He=c(67),Ue=c.n(He),Je=c(53),ze=c.n(Je),Ge=function(e){var t=Object(i.useState)(!1),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(i.useState)(0),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(b.c)((function(e){return e.cart.items})),u="Button ".concat(n?ze.a.bump:"");return Object(i.useEffect)((function(){var e=j.reduce((function(e,t){return e+t.quantity}),0);if(d(e),0!==j.length){a(!0);var t=setTimeout((function(){a(!1)}),300);return function(){clearTimeout(t)}}}),[j]),Object(D.jsxs)("button",{className:u,onClick:e.onClick,children:[Object(D.jsx)("span",{className:ze.a.icon,children:Object(D.jsx)(Te.e,{size:"1.3rem"})}),Object(D.jsx)("span",{children:"Your Cart"}),Object(D.jsx)("span",{className:ze.a.badge,children:l})]})},Ve=function(e){var t=Object(b.b)();return Object(D.jsxs)("header",{className:Ue.a.header,children:[Object(D.jsx)("div",{children:Object(D.jsx)("nav",{children:Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:Object(D.jsx)(r.b,{to:"/",children:"Home"})}),Object(D.jsx)("li",{children:Object(D.jsx)(r.b,{to:"/category",children:"Category"})}),Object(D.jsx)("li",{children:Object(D.jsx)(r.b,{to:"/products",onClick:function(){t(re.changeSorting(""))},children:"Products"})}),Object(D.jsx)("li",{children:Object(D.jsx)(r.b,{to:"/deal",children:"Deal"})}),Object(D.jsx)("li",{children:Object(D.jsx)(r.b,{to:"/contact",children:"Contact"})})]})})}),Object(D.jsx)("div",{children:Object(D.jsx)(Ge,{onClick:e.onShowCart})})]})},Xe=function(e){return Object(D.jsxs)(i.Fragment,{children:[Object(D.jsx)(Me,{}),Object(D.jsx)(Ve,{onShowCart:e.onShowCart})]})},Ze=c(22),Ke=c.n(Ze),Ye=Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"Taiwan"}),Object(D.jsx)("li",{children:"India"}),Object(D.jsx)("li",{children:"Usa"}),Object(D.jsx)("li",{children:"China"}),Object(D.jsx)("li",{children:"Japan"})]}),We=Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"Home"}),Object(D.jsx)("li",{children:"Category"}),Object(D.jsx)("li",{children:"Product"}),Object(D.jsx)("li",{children:"Deal"}),Object(D.jsx)("li",{children:"Contact"})]}),$e=Object(D.jsxs)("ul",{children:[Object(D.jsx)("li",{children:"Google Play"}),Object(D.jsx)("li",{children:"Apple Store"})]}),et=function(e){return Object(D.jsxs)("section",{className:Ke.a.footer,children:[Object(D.jsxs)("div",{className:Ke.a["box-container"],children:[Object(D.jsxs)("div",{className:Ke.a.box,children:[Object(D.jsxs)("div",{className:Ke.a.logo,children:[Object(D.jsx)(Te.d,{})," ",Object(D.jsx)("span",{children:"Mr.Sea"})]}),Object(D.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. At elementum eu facilisis sed odio."}),Object(D.jsxs)("div",{className:Ke.a.share,children:[Object(D.jsx)("div",{className:Ke.a.logo,children:Object(D.jsx)(Te.a,{})}),Object(D.jsx)("div",{className:Ke.a.logo,children:Object(D.jsx)(Te.f,{})}),Object(D.jsx)("div",{className:Ke.a.logo,children:Object(D.jsx)(Te.b,{})}),Object(D.jsx)("div",{className:Ke.a.logo,children:Object(D.jsx)(Te.c,{})})]})]}),Object(D.jsxs)("div",{className:Ke.a.box,children:[Object(D.jsx)("h3",{children:"Our location"}),Ye]}),Object(D.jsxs)("div",{className:Ke.a.box,children:[Object(D.jsx)("h3",{children:"Quick Links"}),We]}),Object(D.jsxs)("div",{className:Ke.a.box,children:[Object(D.jsx)("h3",{children:"Download App"}),$e]})]}),Object(D.jsxs)("h1",{className:Ke.a.credit,children:["create by ",Object(D.jsx)("span",{children:" brain "})," |all rights reserved!|"]})]})},tt=function(e){return Object(D.jsxs)(i.Fragment,{children:[Object(D.jsx)(Xe,{onShowCart:e.onShowCart}),Object(D.jsx)("main",{children:e.children}),Object(D.jsx)(et,{})]})},ct=function(e){return Object(D.jsx)("div",{className:ve.a.backdrop,onClick:e.onClose})},nt=function(e){return Object(D.jsx)("div",{className:ve.a.modal,children:Object(D.jsx)("div",{className:ve.a.content,children:e.children})})},at=document.getElementById("overlays"),rt=function(e){return console.log(at),Object(D.jsxs)(i.Fragment,{children:[a.a.createPortal(Object(D.jsx)(ct,{onClose:e.onClose}),at),a.a.createPortal(Object(D.jsx)(nt,{children:e.children}),at)]})},st=c(42),ot=c.n(st),it=function(e){var t="$".concat(e.price.toFixed(2));return Object(D.jsxs)("li",{className:ot.a["cart-item"],children:[Object(D.jsxs)("div",{children:[Object(D.jsx)("h2",{children:e.name}),Object(D.jsxs)("div",{className:ot.a.summary,children:[Object(D.jsx)("span",{className:ot.a.price,children:t}),Object(D.jsxs)("span",{className:ot.a.amount,children:["x ",e.amount]})]})]}),Object(D.jsxs)("div",{className:ot.a.actions,children:[Object(D.jsx)("button",{onClick:e.onRemove,children:"-"}),Object(D.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},lt=c(35),dt=c.n(lt),jt=c(27),ut=c.n(jt),bt=function(e){return""===e.trim()},ht=function(e){var t=Object(i.useState)({name:!0,street:!0,city:!0,postalCode:!0}),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(b.b)(),o=Object(b.c)((function(e){return e.cart})),l=o.items,d=o.totalQuantity,j=o.totalPrice,u=Object(i.useState)(""),h=Object(s.a)(u,2),m=h[0],O=h[1],x=Object(i.useState)(""),p=Object(s.a)(x,2),f=p[0],g=p[1],_=Object(i.useState)(""),v=Object(s.a)(_,2),C=v[0],N=v[1],S=Object(i.useState)(""),k=Object(s.a)(S,2),w=k[0],P=k[1],F="".concat(ut.a.control," ").concat(n.name?"":ut.a.invalid),L="".concat(ut.a.control," ").concat(n.street?"":ut.a.invalid),R="".concat(ut.a.control," ").concat(n.postalCode?"":ut.a.invalid),Q="".concat(ut.a.control," ").concat(n.city?"":ut.a.invalid);return Object(D.jsxs)("form",{className:ut.a.form,onSubmit:function(t){t.preventDefault(),console.log("Form Confirm!");var c=!bt(m),n=!bt(f),s=!bt(C),o=5===w.trim().length;if(a({name:c,street:n,city:s,postalCode:o}),c&&n&&s&&o){var i={name:m,street:f,city:C,postalCode:w,items:l,totalQuantity:d,totalPrice:j};console.log(i),r(I.addNewRecord(i)),r(y.clearCartAndSend()),O(""),g(""),P(""),N(""),e.onClose()}},children:[Object(D.jsxs)("div",{className:F,children:[Object(D.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(D.jsx)("input",{type:"text",id:"name",value:m,onChange:function(e){return O(e.target.value)}}),!n.name&&Object(D.jsx)("p",{children:"Please enter a valid name!"})]}),Object(D.jsxs)("div",{className:L,children:[Object(D.jsx)("label",{htmlFor:"street",children:"Street"}),Object(D.jsx)("input",{type:"text",id:"street",value:f,onChange:function(e){return g(e.target.value)}}),!n.street&&Object(D.jsx)("p",{children:"Please enter a valid street!"})]}),Object(D.jsxs)("div",{className:R,children:[Object(D.jsx)("label",{htmlFor:"postal",children:"Postal Code"}),Object(D.jsx)("input",{type:"text",id:"postal",value:w,onChange:function(e){return P(e.target.value)}}),!n.postalCode&&Object(D.jsx)("p",{children:"Please enter a valid postal code (5 characters long)!"})]}),Object(D.jsxs)("div",{className:Q,children:[Object(D.jsx)("label",{htmlFor:"city",children:"City"}),Object(D.jsx)("input",{type:"text",id:"city",value:C,onChange:function(e){return N(e.target.value)}}),!n.city&&Object(D.jsx)("p",{children:"Please enter a valid city!"})]}),Object(D.jsxs)("div",{className:ut.a.actions,children:[Object(D.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(D.jsx)("button",{className:ut.a.submit,type:"submit",children:"Confirm"})]})]})},mt=function(e){var t=Object(i.useState)([]),c=Object(s.a)(t,2),n=c[0],a=c[1],r=Object(i.useState)(!1),o=Object(s.a)(r,2),j=o[0],h=o[1],m=Object(i.useState)(!1),O=Object(s.a)(m,2),x=O[0],p=O[1],f=Object(i.useState)(!1),g=Object(s.a)(f,2),_=g[0],v=g[1],C=Object(b.c)((function(e){return e.cart})),N=Object(b.b)();console.log("Cart:"),console.log(C);var S="$".concat(C.totalPrice.toFixed(2)),k=C.items.length>0;Object(i.useEffect)((function(){console.log(C.items),a(C.items)}),[C]);var w=function(e){console.log(e),N(y.removeItemFromCart(e))},P=function(e){console.log(e);var t=Object.assign({},e);t.quantity=1,t.totalPrice=t.price,N(y.addItemToCart(t))},I=function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/orders.json",{method:"POST",body:JSON.stringify({user:t,orderedItems:C.items})});case 3:p(!1),v(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=Object(D.jsx)("ul",{className:dt.a["cart-items"],children:n.map((function(e){return console.log(e),console.log(e.id),Object(D.jsx)(it,{name:e.name,amount:e.quantity,price:e.price,onRemove:w.bind(null,e.id),onAdd:P.bind(null,e)},e.id)}))}),L=Object(D.jsxs)("div",{className:dt.a.actions,children:[Object(D.jsx)("button",{className:dt.a["button--alt"],onClick:e.onClose,children:"Close"}),k&&Object(D.jsx)("button",{className:dt.a["button--alt"],onClick:function(){h(!0)},children:"Order"})]}),R=Object(D.jsxs)(l.a.Fragment,{children:[F,Object(D.jsxs)("div",{className:dt.a.total,children:[Object(D.jsx)("span",{children:"Total Amount"}),Object(D.jsx)("span",{children:S})]}),j&&Object(D.jsx)(ht,{onConfirm:I,onCancel:e.onClose,onClose:function(){h(!1)}}),!j&&L]}),Q=Object(D.jsx)("p",{children:"Sending order data..."}),A=Object(D.jsxs)(l.a.Fragment,{children:[Object(D.jsx)("p",{children:"Successfully sent the order!"}),Object(D.jsx)("div",{className:dt.a.actions,children:Object(D.jsx)("button",{className:dt.a.button,onClick:e.onClose,children:"Close"})})]});return Object(D.jsxs)(rt,{onClose:e.onClose,children:[!x&&!_&&R,x&&Q,!x&&_&&A]})},Ot=Object(O.b)({name:"category",initialState:{items:[]},reducers:{addCategory:function(e,t){for(var c=0,n=Object.entries(t.payload);c<n.length;c++){var a=n[c][1];e.items.push(a)}}}}),xt=Ot,pt=Ot.actions;var ft=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],a=Object(b.c)((function(e){return e.auth.isLoggedIn})),r=Object(b.b)(),l=Object(o.g)();return Object(i.useEffect)((function(){r(function(){var e=Object(d.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/products.json");case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,t(re.addProduct(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),r(function(){var e=Object(d.a)(u.a.mark((function e(t){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://shoppingwebsite-22c78-default-rtdb.asia-southeast1.firebasedatabase.app/categorys.json");case 3:return c=e.sent,e.next=6,c.json();case 6:n=e.sent,t(pt.addCategory(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}());var e=localStorage.getItem("email");e&&(r(N(e)),r(F(e))),r(f.retrieveStoredToken())}),[r]),Object(D.jsxs)(tt,{onShowCart:function(){a?n(!0):l.replace("/auth")},children:[c&&Object(D.jsx)(mt,{onClose:function(){n(!1)}}),Object(D.jsxs)(o.d,{children:[Object(D.jsx)(o.b,{path:"/",exact:!0,children:Object(D.jsx)(E,{})}),Object(D.jsx)(o.b,{path:"/products",children:Object(D.jsx)(X,{})}),Object(D.jsx)(o.b,{path:"/contact",children:Object(D.jsx)(W,{})}),Object(D.jsx)(o.b,{path:"/category",children:Object(D.jsx)(ie,{})}),Object(D.jsx)(o.b,{path:"/deal",children:Object(D.jsx)(ge,{})}),Object(D.jsx)(o.b,{path:"/auth",children:Object(D.jsx)(R,{})}),Object(D.jsx)(o.b,{path:"/record",exact:!0,children:Object(D.jsx)(qe,{})}),Object(D.jsx)(o.b,{path:"/record/:recordId",exact:!0}),Object(D.jsx)(o.b,{path:"/*",children:Object(D.jsx)(o.a,{to:"/"})})]})]})},gt=Object(O.a)({reducer:{product:ae.reducer,category:xt.reducer,cart:C.reducer,auth:p.reducer,record:P.reducer}});a.a.render(Object(D.jsx)(b.a,{store:gt,children:Object(D.jsx)(r.a,{children:Object(D.jsx)(ft,{})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.eee36a8f.chunk.js.map